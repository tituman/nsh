<!DOCTYPE html>
<html>
<head>
    <title>Double Tap Example</title>
    <style>
        #inputContainer {
            display: none; /* Hidden by default */
            margin-top: 10px;
            text-align: center;
        }
        .arrow {
            cursor: pointer;
            font-size: 24px;
            margin: 0 20px;
            user-select: none;
        }
    </style>
    
    <link rel="stylesheet" href="docs/styles.css">
</head>
<body>
    <div id="myElement" style="width: 200px; height: 100px; background-color: lightblue; text-align: center; line-height: 100px;">
        Double Tap Me
    </div>
    
    <div id="inputContainer">
        <span id="leftArrow" class="arrow">⬅</span>
        <span id="outputValue">0</span>
        <span id="rightArrow" class="arrow">➡</span>
    </div>
    
    <script>
        // Select elements
        const element = document.getElementById("myElement");
        const inputContainer = document.getElementById("inputContainer");
        const leftArrow = document.getElementById("leftArrow");
        const rightArrow = document.getElementById("rightArrow");
        const outputValue = document.getElementById("outputValue");

        let currentValue = 0;
        let lastTapTime = 0;

        // Function to handle double-tap detection
        element.addEventListener("touchend", function () {
            const currentTime = new Date().getTime();
            const tapInterval = currentTime - lastTapTime;

            if (tapInterval < 300 && tapInterval > 0) {
                // Detected a double-tap
                inputContainer.style.display = "block";
            }
            lastTapTime = currentTime;
        });

        // Decrease the value when the left arrow is clicked or touched
        leftArrow.addEventListener("click", function () {
            currentValue--;
            updateOutput();
        });

        leftArrow.addEventListener("touchstart", function (event) {
            event.preventDefault(); // Prevent mouse event duplication
            currentValue--;
            updateOutput();
        });

        // Increase the value when the right arrow is clicked or touched
        rightArrow.addEventListener("click", function () {
            currentValue++;
            updateOutput();
        });

        rightArrow.addEventListener("touchstart", function (event) {
            event.preventDefault(); // Prevent mouse event duplication
            currentValue++;
            updateOutput();
        });

        // Function to update the output and log to the console
        function updateOutput() {
            outputValue.textContent = currentValue;
            console.log(`Current value: ${currentValue}`);
        }

        // Hide the input container when clicking or touching outside
        document.addEventListener("click", function (event) {
            if (!inputContainer.contains(event.target) && !element.contains(event.target)) {
                inputContainer.style.display = "none";
            }
        });

        document.addEventListener("touchstart", function (event) {
            if (!inputContainer.contains(event.target) && !element.contains(event.target)) {
                inputContainer.style.display = "none";
            }
        });
    </script>
</body>
</html>